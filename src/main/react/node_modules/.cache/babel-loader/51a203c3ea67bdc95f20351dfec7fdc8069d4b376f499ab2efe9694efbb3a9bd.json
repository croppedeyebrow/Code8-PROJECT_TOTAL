{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/dev/PROJECT_TOTAL/src/main/react/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import AxiosApi from\"../../axios/PerformanceAxios\";import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import PerformanceCardView from\"./PerformanceCardView\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CardContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n  width: 220rem;\\n  gap: 2rem;\\n  margin: 2rem 0;\\n  justify-content: center;\\n  /* margin: 20px; */\\n\"])));const PaginationContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-bottom: 4rem;\\n  width: 100%;\\n  height: auto;\\n\"])));const PageButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: 1px solid #ddd;\\n  padding: 5px;\\n  width: 3rem;\\n  height: 3rem;\\n  margin: 0 5px;\\n  background-color: #f0f0f0;\\n  cursor: pointer;\\n  border-radius: 50%;\\n  transition: background-color 0.3s;\\n\\n  &:hover {\\n    background-color: darkgray;\\n  }\\n\\n  &:focus {\\n    outline: none;\\n    background-color: var(--mainblue);\\n    color: white;\\n  }\\n\"])));const PerformanceList=_ref=>{let{performanceList,onCardMouseOver}=_ref;// const[performanceList, setPerformanceList] = useState([]); // 공연목록 데이터\nconst[currentPage,setCurrentPage]=useState(0);// 현재 페이지\nconst itemsPerPage=5;// 한 페이지에 보여줄 아이템 수\nconst[totalPage,setTotalPage]=useState(0);// 전체 페이지\n// 총 페이지 수 계산\nuseEffect(()=>{const totalPage=async()=>{try{console.log(\"performanceList 총페이지수계산 시도\");console.log(performanceList);const res=await AxiosApi.getPerformancePage(0,5);setTotalPage(res.data);}catch(error){console.log(error);}};totalPage();},[]);// 페이지 이동\nconst handlePageChange=number=>{console.log(number);setCurrentPage(number-1);};// 페이지네이션 렌더링\nconst renderPagination=()=>{const totalPage=Math.ceil(performanceList.length/itemsPerPage);return/*#__PURE__*/_jsx(PaginationContainer,{children:Array.from({length:totalPage},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(PageButton,{onClick:()=>handlePageChange(page),children:page},page))});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardContainer,{children:performanceList.slice(currentPage*itemsPerPage,(currentPage+1)*itemsPerPage).map(performance=>/*#__PURE__*/_jsx(PerformanceCardView,{performanceId:performance.performanceId,image:performance.performanceImage,title:performance.performanceName,venue:performance.venue,performer:performance.nicknames,date:performance.performanceDate,onMouseOver:onCardMouseOver},performance.performanceId))}),renderPagination()]});};export default PerformanceList;","map":{"version":3,"names":["AxiosApi","React","useEffect","useState","styled","PerformanceCardView","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CardContainer","div","_templateObject","_taggedTemplateLiteral","PaginationContainer","_templateObject2","PageButton","button","_templateObject3","PerformanceList","_ref","performanceList","onCardMouseOver","currentPage","setCurrentPage","itemsPerPage","totalPage","setTotalPage","console","log","res","getPerformancePage","data","error","handlePageChange","number","renderPagination","Math","ceil","length","children","Array","from","_","i","map","page","onClick","slice","performance","performanceId","image","performanceImage","title","performanceName","venue","performer","nicknames","date","performanceDate","onMouseOver"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/component/performance/PerformanceList.jsx"],"sourcesContent":["import AxiosApi from \"../../axios/PerformanceAxios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport PerformanceCardView from \"./PerformanceCardView\";\r\n\r\nconst CardContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  width: 220rem;\r\n  gap: 2rem;\r\n  margin: 2rem 0;\r\n  justify-content: center;\r\n  /* margin: 20px; */\r\n`;\r\n\r\nconst PaginationContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 4rem;\r\n  width: 100%;\r\n  height: auto;\r\n`;\r\n\r\nconst PageButton = styled.button`\r\n  border: 1px solid #ddd;\r\n  padding: 5px;\r\n  width: 3rem;\r\n  height: 3rem;\r\n  margin: 0 5px;\r\n  background-color: #f0f0f0;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s;\r\n\r\n  &:hover {\r\n    background-color: darkgray;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n    background-color: var(--mainblue);\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst PerformanceList = ({ performanceList, onCardMouseOver }) => {\r\n  // const[performanceList, setPerformanceList] = useState([]); // 공연목록 데이터\r\n  const [currentPage, setCurrentPage] = useState(0); // 현재 페이지\r\n  const itemsPerPage = 5; // 한 페이지에 보여줄 아이템 수\r\n  const [totalPage, setTotalPage] = useState(0); // 전체 페이지\r\n\r\n  // 총 페이지 수 계산\r\n  useEffect(() => {\r\n    const totalPage = async () => {\r\n      try {\r\n        console.log(\"performanceList 총페이지수계산 시도\");\r\n        console.log(performanceList);\r\n        const res = await AxiosApi.getPerformancePage(0, 5);\r\n        setTotalPage(res.data);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    totalPage();\r\n  }, []);\r\n\r\n  // 페이지 이동\r\n  const handlePageChange = (number) => {\r\n    console.log(number);\r\n    setCurrentPage(number - 1);\r\n  };\r\n\r\n  // 페이지네이션 렌더링\r\n  const renderPagination = () => {\r\n    const totalPage = Math.ceil(performanceList.length / itemsPerPage);\r\n    return (\r\n      <PaginationContainer>\r\n        {Array.from({ length: totalPage }, (_, i) => i + 1).map((page) => (\r\n          <PageButton key={page} onClick={() => handlePageChange(page)}>\r\n            {page}\r\n          </PageButton>\r\n        ))}\r\n      </PaginationContainer>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CardContainer>\r\n        {performanceList\r\n          .slice(currentPage * itemsPerPage, (currentPage + 1) * itemsPerPage)\r\n          .map((performance) => (\r\n            <PerformanceCardView\r\n              key={performance.performanceId}\r\n              performanceId={performance.performanceId}\r\n              image={performance.performanceImage}\r\n              title={performance.performanceName}\r\n              venue={performance.venue}\r\n              performer={performance.nicknames}\r\n              date={performance.performanceDate}\r\n              onMouseOver={onCardMouseOver}\r\n            />\r\n          ))}\r\n      </CardContainer>\r\n      {renderPagination()}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PerformanceList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}