{"ast":null,"code":"import{useEffect,useState}from\"react\";// import { useNavigate } from \"react-router-dom\";\nimport SignUpAxios from\"../axios/SignUpAxios\";// 로그인 체크 커스텀 훅\nconst UseAuth=()=>{const[isLoggedIn,setIsLoggedIn]=useState(\"\");// const navigator = useNavigate();\nuseEffect(()=>{// 로그인 상태를 체크\nconst checkLoginStatus=async()=>{try{// 로그인 체크\nconst res=await SignUpAxios.isLogin();// console.log(\"로그인 상태 체크 :\", res.data);\nif(res.data){// 로그인 상태\nconst email=res.data;setIsLoggedIn(email);}else{// alert(\"로그인 상태가 아닙니다.\");\n// navigator(\"/login\"); // 로그인 페이지\nsetIsLoggedIn(\"\");}}catch(e){// alert(\"서버의 연결 불안정 혹은 토큰이 만료 되었습니다.\", e);\n// navigator(\"/\");\nsetIsLoggedIn(\"\");}};checkLoginStatus();},[isLoggedIn]);return isLoggedIn;};export default UseAuth;","map":{"version":3,"names":["useEffect","useState","SignUpAxios","UseAuth","isLoggedIn","setIsLoggedIn","checkLoginStatus","res","isLogin","data","email","e"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/hooks/UseAuth.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n// import { useNavigate } from \"react-router-dom\";\r\nimport SignUpAxios from \"../axios/SignUpAxios\";\r\n\r\n// 로그인 체크 커스텀 훅\r\nconst UseAuth = () => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(\"\");\r\n  // const navigator = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // 로그인 상태를 체크\r\n    const checkLoginStatus = async () => {\r\n      try {\r\n        // 로그인 체크\r\n        const res = await SignUpAxios.isLogin();\r\n        // console.log(\"로그인 상태 체크 :\", res.data);\r\n\r\n        if (res.data) {\r\n          // 로그인 상태\r\n          const email = res.data;\r\n          setIsLoggedIn(email);\r\n        } else {\r\n          // alert(\"로그인 상태가 아닙니다.\");\r\n          // navigator(\"/login\"); // 로그인 페이지\r\n          setIsLoggedIn(\"\");\r\n        }\r\n      } catch (e) {\r\n        // alert(\"서버의 연결 불안정 혹은 토큰이 만료 되었습니다.\", e);\r\n        // navigator(\"/\");\r\n        setIsLoggedIn(\"\");\r\n      }\r\n    };\r\n\r\n    checkLoginStatus();\r\n  }, [isLoggedIn]);\r\n\r\n  return isLoggedIn;\r\n};\r\n\r\nexport default UseAuth;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C;AACA,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAE9C;AACA,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGJ,QAAQ,CAAC,EAAE,CAAC,CAChD;AAEAD,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAM,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF;AACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAL,WAAW,CAACM,OAAO,CAAC,CAAC,CACvC;AAEA,GAAID,GAAG,CAACE,IAAI,CAAE,CACZ;AACA,KAAM,CAAAC,KAAK,CAAGH,GAAG,CAACE,IAAI,CACtBJ,aAAa,CAACK,KAAK,CAAC,CACtB,CAAC,IAAM,CACL;AACA;AACAL,aAAa,CAAC,EAAE,CAAC,CACnB,CACF,CAAE,MAAOM,CAAC,CAAE,CACV;AACA;AACAN,aAAa,CAAC,EAAE,CAAC,CACnB,CACF,CAAC,CAEDC,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACF,UAAU,CAAC,CAAC,CAEhB,MAAO,CAAAA,UAAU,CACnB,CAAC,CAED,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}