{"ast":null,"code":"import{useEffect,useState}from\"react\";import MapMarker from\"../../images/MapMarker.png\";import AxiosApi from\"../../axios/PerformanceAxios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{kakao}=window;const KakaomapComponent=_ref=>{let{performanceList,selectedVenue}=_ref;const[map,setMap]=useState(null);useEffect(()=>{const Container=document.getElementById('map');//지도를 담을 영역의 DOM 레퍼런스\nconst options={// 지도 기본값 설정\ncenter:new kakao.maps.LatLng(37.498712,127.031904),//지도의 중심좌표.\nlevel:5//지도의 레벨(확대, 축소 정도)\n};const map=new kakao.maps.Map(Container,options);//지도 생성 및 객체 리턴\n// 카카오맵 스카이뷰, 일반지도 전환 및 지도레벨조정 컨트롤러\nconst mapTypeControl=new kakao.maps.MapTypeControl();map.addControl(mapTypeControl,kakao.maps.ControlPosition.TOP);// 지도 타입 컨트롤을 지도 상단중앙에 표시\nconst zoomControl=new kakao.maps.ZoomControl();map.addControl(zoomControl,kakao.maps.ControlPosition.RIGHT);// 지도 확대 축소 컨트롤을 지도 우측상단에 표시\n// 마커 이미지 및 표시위치 설정\nconst imageSrc=MapMarker,imageSize=new kakao.maps.Size(40),imageOption={offset:new kakao.maps.Point(20,48.94)};const markerImage=new kakao.maps.MarkerImage(imageSrc,imageSize,imageOption);const markerPosition=options.center;// Geocoder 객체 생성, 주소 -> 좌표 변환 객체\nconst geocoder=new window.kakao.maps.services.Geocoder();// 각 데이터 주소에 따라 지도 위에 마커를 표시합니다\nperformanceList.forEach(performance=>{geocoder.addressSearch(performance.venue,function(result,status){if(status===window.kakao.maps.services.Status.OK){const coords=new window.kakao.maps.LatLng(result[0].y,result[0].x);// 마커를 생성하고 지도에 표시합니다\nconst marker=new window.kakao.maps.Marker({map:map,position:coords,image:markerImage});// 마커가 지도 위에 표시되도록 설정합니다\nmarker.setMap(map);map.setCenter(coords);// 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\n}});});setMap(map);// map 상태를 업데이트합니다.\n},[performanceList]);// performanceList가 변경될 때마다 useEffect를 실행합니다.\nuseEffect(()=>{// selectedVenue가 변경될 때마다 실행됩니다.\nif(map&&selectedVenue){const geocoder=new window.kakao.maps.services.Geocoder();geocoder.addressSearch(selectedVenue,function(result,status){if(status===window.kakao.maps.services.Status.OK){const coords=new window.kakao.maps.LatLng(result[0].y,result[0].x);map.setCenter(coords);// 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\n}});}},[map,selectedVenue]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{id:\"map\",style:{width:\"100%\",height:\"100%\"}})});};export default KakaomapComponent;","map":{"version":3,"names":["useEffect","useState","MapMarker","AxiosApi","jsx","_jsx","Fragment","_Fragment","kakao","window","KakaomapComponent","_ref","performanceList","selectedVenue","map","setMap","Container","document","getElementById","options","center","maps","LatLng","level","Map","mapTypeControl","MapTypeControl","addControl","ControlPosition","TOP","zoomControl","ZoomControl","RIGHT","imageSrc","imageSize","Size","imageOption","offset","Point","markerImage","MarkerImage","markerPosition","geocoder","services","Geocoder","forEach","performance","addressSearch","venue","result","status","Status","OK","coords","y","x","marker","Marker","position","image","setCenter","children","id","style","width","height"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/component/performance/KakaomapComponent.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport MapMarker from \"../../images/MapMarker.png\";\r\nimport AxiosApi from \"../../axios/PerformanceAxios\";\r\n\r\nconst { kakao } = window;\r\n\r\nconst KakaomapComponent = ({ performanceList, selectedVenue }) => {\r\n  const [map, setMap] = useState(null);\r\n  useEffect(() => {\r\n    const Container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스\r\n    const options = { // 지도 기본값 설정\r\n     center: new kakao.maps.LatLng(37.498712, 127.031904), //지도의 중심좌표.\r\n     level: 5 //지도의 레벨(확대, 축소 정도)\r\n     \r\n  };\r\n  const map = new kakao.maps.Map(Container, options); //지도 생성 및 객체 리턴\r\n\r\n  // 카카오맵 스카이뷰, 일반지도 전환 및 지도레벨조정 컨트롤러\r\n  const mapTypeControl = new kakao.maps.MapTypeControl();\r\n  map.addControl(mapTypeControl, kakao.maps.ControlPosition.TOP); // 지도 타입 컨트롤을 지도 상단중앙에 표시\r\n  const zoomControl = new kakao.maps.ZoomControl();\r\nmap.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT); // 지도 확대 축소 컨트롤을 지도 우측상단에 표시\r\n\r\n\r\n\r\n  // 마커 이미지 및 표시위치 설정\r\n  const imageSrc = MapMarker,\r\n        imageSize = new kakao.maps.Size(40),\r\n        imageOption = { offset: new kakao.maps.Point(20, 48.94) };\r\n\r\n  const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);\r\n  const markerPosition = options.center;\r\n\r\n  // Geocoder 객체 생성, 주소 -> 좌표 변환 객체\r\n  const geocoder = new window.kakao.maps.services.Geocoder();\r\n\r\n    // 각 데이터 주소에 따라 지도 위에 마커를 표시합니다\r\n    performanceList.forEach(performance => {\r\n      geocoder.addressSearch(performance.venue, function(result, status) {\r\n        if (status === window.kakao.maps.services.Status.OK) {\r\n          const coords = new window.kakao.maps.LatLng(result[0].y, result[0].x);\r\n\r\n          // 마커를 생성하고 지도에 표시합니다\r\n          const marker = new window.kakao.maps.Marker({\r\n            map: map,\r\n            position: coords,\r\n            image: markerImage \r\n          });\r\n\r\n          // 마커가 지도 위에 표시되도록 설정합니다\r\n          marker.setMap(map); \r\n          map.setCenter(coords); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n        }\r\n      });\r\n    });\r\n    setMap(map); // map 상태를 업데이트합니다.\r\n  }, [performanceList]); // performanceList가 변경될 때마다 useEffect를 실행합니다.\r\n\r\n  useEffect(() => {\r\n    // selectedVenue가 변경될 때마다 실행됩니다.\r\n    if (map && selectedVenue) { \r\n      const geocoder = new window.kakao.maps.services.Geocoder();\r\n\r\n      geocoder.addressSearch(selectedVenue, function(result, status) {\r\n        if (status === window.kakao.maps.services.Status.OK) {\r\n          const coords = new window.kakao.maps.LatLng(result[0].y, result[0].x);\r\n          map.setCenter(coords); // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n        }\r\n      });\r\n    }\r\n  }, [map, selectedVenue]);\r\n\r\nreturn (\r\n  <>\r\n    <div id=\"map\" style={{\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      \r\n    }}\r\n    > \r\n    </div>\r\n  </>\r\n  )\r\n  }\r\n\r\nexport default KakaomapComponent;\r\n\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEpD,KAAM,CAAEC,KAAM,CAAC,CAAGC,MAAM,CAExB,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAwC,IAAvC,CAAEC,eAAe,CAAEC,aAAc,CAAC,CAAAF,IAAA,CAC3D,KAAM,CAACG,GAAG,CAAEC,MAAM,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACpCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC,CAAE;AAClD,KAAM,CAAAC,OAAO,CAAG,CAAE;AACjBC,MAAM,CAAE,GAAI,CAAAZ,KAAK,CAACa,IAAI,CAACC,MAAM,CAAC,SAAS,CAAE,UAAU,CAAC,CAAE;AACtDC,KAAK,CAAE,CAAE;AAEZ,CAAC,CACD,KAAM,CAAAT,GAAG,CAAG,GAAI,CAAAN,KAAK,CAACa,IAAI,CAACG,GAAG,CAACR,SAAS,CAAEG,OAAO,CAAC,CAAE;AAEpD;AACA,KAAM,CAAAM,cAAc,CAAG,GAAI,CAAAjB,KAAK,CAACa,IAAI,CAACK,cAAc,CAAC,CAAC,CACtDZ,GAAG,CAACa,UAAU,CAACF,cAAc,CAAEjB,KAAK,CAACa,IAAI,CAACO,eAAe,CAACC,GAAG,CAAC,CAAE;AAChE,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAAtB,KAAK,CAACa,IAAI,CAACU,WAAW,CAAC,CAAC,CAClDjB,GAAG,CAACa,UAAU,CAACG,WAAW,CAAEtB,KAAK,CAACa,IAAI,CAACO,eAAe,CAACI,KAAK,CAAC,CAAE;AAI7D;AACA,KAAM,CAAAC,QAAQ,CAAG/B,SAAS,CACpBgC,SAAS,CAAG,GAAI,CAAA1B,KAAK,CAACa,IAAI,CAACc,IAAI,CAAC,EAAE,CAAC,CACnCC,WAAW,CAAG,CAAEC,MAAM,CAAE,GAAI,CAAA7B,KAAK,CAACa,IAAI,CAACiB,KAAK,CAAC,EAAE,CAAE,KAAK,CAAE,CAAC,CAE/D,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAA/B,KAAK,CAACa,IAAI,CAACmB,WAAW,CAACP,QAAQ,CAAEC,SAAS,CAAEE,WAAW,CAAC,CAChF,KAAM,CAAAK,cAAc,CAAGtB,OAAO,CAACC,MAAM,CAErC;AACA,KAAM,CAAAsB,QAAQ,CAAG,GAAI,CAAAjC,MAAM,CAACD,KAAK,CAACa,IAAI,CAACsB,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAExD;AACAhC,eAAe,CAACiC,OAAO,CAACC,WAAW,EAAI,CACrCJ,QAAQ,CAACK,aAAa,CAACD,WAAW,CAACE,KAAK,CAAE,SAASC,MAAM,CAAEC,MAAM,CAAE,CACjE,GAAIA,MAAM,GAAKzC,MAAM,CAACD,KAAK,CAACa,IAAI,CAACsB,QAAQ,CAACQ,MAAM,CAACC,EAAE,CAAE,CACnD,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAA5C,MAAM,CAACD,KAAK,CAACa,IAAI,CAACC,MAAM,CAAC2B,MAAM,CAAC,CAAC,CAAC,CAACK,CAAC,CAAEL,MAAM,CAAC,CAAC,CAAC,CAACM,CAAC,CAAC,CAErE;AACA,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAA/C,MAAM,CAACD,KAAK,CAACa,IAAI,CAACoC,MAAM,CAAC,CAC1C3C,GAAG,CAAEA,GAAG,CACR4C,QAAQ,CAAEL,MAAM,CAChBM,KAAK,CAAEpB,WACT,CAAC,CAAC,CAEF;AACAiB,MAAM,CAACzC,MAAM,CAACD,GAAG,CAAC,CAClBA,GAAG,CAAC8C,SAAS,CAACP,MAAM,CAAC,CAAE;AACzB,CACF,CAAC,CAAC,CACJ,CAAC,CAAC,CACFtC,MAAM,CAACD,GAAG,CAAC,CAAE;AACf,CAAC,CAAE,CAACF,eAAe,CAAC,CAAC,CAAE;AAEvBZ,SAAS,CAAC,IAAM,CACd;AACA,GAAIc,GAAG,EAAID,aAAa,CAAE,CACxB,KAAM,CAAA6B,QAAQ,CAAG,GAAI,CAAAjC,MAAM,CAACD,KAAK,CAACa,IAAI,CAACsB,QAAQ,CAACC,QAAQ,CAAC,CAAC,CAE1DF,QAAQ,CAACK,aAAa,CAAClC,aAAa,CAAE,SAASoC,MAAM,CAAEC,MAAM,CAAE,CAC7D,GAAIA,MAAM,GAAKzC,MAAM,CAACD,KAAK,CAACa,IAAI,CAACsB,QAAQ,CAACQ,MAAM,CAACC,EAAE,CAAE,CACnD,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAA5C,MAAM,CAACD,KAAK,CAACa,IAAI,CAACC,MAAM,CAAC2B,MAAM,CAAC,CAAC,CAAC,CAACK,CAAC,CAAEL,MAAM,CAAC,CAAC,CAAC,CAACM,CAAC,CAAC,CACrEzC,GAAG,CAAC8C,SAAS,CAACP,MAAM,CAAC,CAAE;AACzB,CACF,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACvC,GAAG,CAAED,aAAa,CAAC,CAAC,CAE1B,mBACER,IAAA,CAAAE,SAAA,EAAAsD,QAAA,cACExD,IAAA,QAAKyD,EAAE,CAAC,KAAK,CAACC,KAAK,CAAE,CACnBC,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAEV,CAAE,CAEG,CAAC,CACN,CAAC,CAEH,CAAC,CAEH,cAAe,CAAAvD,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}