{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/dev/PROJECT_TOTAL/src/main/react/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import styled from\"styled-components\";import{useState,useEffect,useLayoutEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{GridContainer,GridItem}from\"../../style/Shop/Shop-UserList\";// import testimg from \"../../images/testimg.jpeg\";\nimport UserSearch from\"../shop/UserSearch\";import{getSearchedArtists}from\"../../axios/ProductAxios\";import ProductAxios from\"../../axios/ProductAxios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MAX_ITEMS=3;const ITEM_HEIGHT=230;// ex) 상품높이\nconst ButtonContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n\"])));const Button=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border-radius: 15px;\\n  border: none;\\n  border: 1px solid #97b0aa;\\n  font-weight: 600;\\n  font-size: 12px;\\n  padding: 8px 20px;\\n  margin: 20px;\\n\"])));const UserList=()=>{const[isExpanded,setIsExpanded]=useState(false);const[list,setList]=useState([]);const[searchQuery,setSearchQuery]=useState(\"\");const navigate=useNavigate();useEffect(()=>{const userList=async()=>{const res=await ProductAxios.getUserList();console.log(\"유저 조회 : \",res);if(res.status===200){setList(res.data);}else{alert(\"오류 발생!!\");}};userList();},[]);useEffect(()=>{const fetchSearchedArtists=async()=>{const searchedArtists=await getSearchedArtists(searchQuery);console.log(searchedArtists);setList(searchedArtists);};fetchSearchedArtists();},[]);useEffect(()=>{if(searchQuery.trim()!==\"\"){const fetchSearchedArtists=async()=>{const searchedArtists=await getSearchedArtists(searchQuery);console.log(searchQuery);setList(searchedArtists);};fetchSearchedArtists();}},[searchQuery]);// 검색 쿼리가 변경될 때마다 데이터를 다시 불러옵니다.\nconst handleProductClick=email=>{navigate(\"/otherpage/\".concat(email));};// 총 높이 계산\nconst ContainerHeight=()=>{const lines=Math.ceil(list.length/MAX_ITEMS);// 전체 아이템 수를 한 줄당 아이템 수로 나눠 필요한 줄 수 계산\nconst visibleLines=isExpanded?lines:2;// 표시할 줄 수\nreturn visibleLines*ITEM_HEIGHT;// 표시할 줄 수 X 아이템 높이 = 총 높이\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(UserSearch,{searchQuery:searchQuery,setSearchQuery:setSearchQuery}),/*#__PURE__*/_jsx(GridContainer,{style:{maxHeight:\"\".concat(ContainerHeight(),\"px\"),overflow:\"hidden\"},children:list.map((data,index)=>/*#__PURE__*/_jsxs(GridItem,{onClick:()=>handleProductClick(data.userEmail),children:[/*#__PURE__*/_jsx(\"img\",{alt:\"testimg\",src:data.profileImg,style:{width:\"200px\",height:\"200px\"}}),/*#__PURE__*/_jsx(\"p\",{children:data.userNickname})]},index))}),/*#__PURE__*/_jsx(ButtonContainer,{children:list.length>MAX_ITEMS*2&&/*#__PURE__*/_jsx(Button,{onClick:()=>setIsExpanded(!isExpanded),children:isExpanded?\"숨기기\":\"더보기\"})})]});};export default UserList;","map":{"version":3,"names":["styled","useState","useEffect","useLayoutEffect","useNavigate","GridContainer","GridItem","UserSearch","getSearchedArtists","ProductAxios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MAX_ITEMS","ITEM_HEIGHT","ButtonContainer","div","_templateObject","_taggedTemplateLiteral","Button","button","_templateObject2","UserList","isExpanded","setIsExpanded","list","setList","searchQuery","setSearchQuery","navigate","userList","res","getUserList","console","log","status","data","alert","fetchSearchedArtists","searchedArtists","trim","handleProductClick","email","concat","ContainerHeight","lines","Math","ceil","length","visibleLines","children","style","maxHeight","overflow","map","index","onClick","userEmail","alt","src","profileImg","width","height","userNickname"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/component/shop/UserList.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { useState, useEffect, useLayoutEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { GridContainer, GridItem } from \"../../style/Shop/Shop-UserList\";\r\n// import testimg from \"../../images/testimg.jpeg\";\r\nimport UserSearch from \"../shop/UserSearch\";\r\nimport { getSearchedArtists } from \"../../axios/ProductAxios\";\r\nimport ProductAxios from \"../../axios/ProductAxios\";\r\n\r\nconst MAX_ITEMS = 3;\r\nconst ITEM_HEIGHT = 230; // ex) 상품높이\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nconst Button = styled.button`\r\n  border-radius: 15px;\r\n  border: none;\r\n  border: 1px solid #97b0aa;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  padding: 8px 20px;\r\n  margin: 20px;\r\n`;\r\n\r\nconst UserList = () => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [list, setList] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const userList = async () => {\r\n      const res = await ProductAxios.getUserList();\r\n      console.log(\"유저 조회 : \", res);\r\n      if (res.status === 200) {\r\n        setList(res.data);\r\n      } else {\r\n        alert(\"오류 발생!!\");\r\n      }\r\n    };\r\n    userList();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchSearchedArtists = async () => {\r\n      const searchedArtists = await getSearchedArtists(searchQuery);\r\n      console.log(searchedArtists);\r\n      setList(searchedArtists);\r\n    };\r\n    fetchSearchedArtists();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchQuery.trim() !== \"\") {\r\n      const fetchSearchedArtists = async () => {\r\n        const searchedArtists = await getSearchedArtists(searchQuery);\r\n        console.log(searchQuery);\r\n        setList(searchedArtists);\r\n      };\r\n      fetchSearchedArtists();\r\n    }\r\n  }, [searchQuery]); // 검색 쿼리가 변경될 때마다 데이터를 다시 불러옵니다.\r\n\r\n  const handleProductClick = (email) => {\r\n    navigate(`/otherpage/${email}`);\r\n  };\r\n\r\n  // 총 높이 계산\r\n  const ContainerHeight = () => {\r\n    const lines = Math.ceil(list.length / MAX_ITEMS); // 전체 아이템 수를 한 줄당 아이템 수로 나눠 필요한 줄 수 계산\r\n    const visibleLines = isExpanded ? lines : 2; // 표시할 줄 수\r\n    return visibleLines * ITEM_HEIGHT; // 표시할 줄 수 X 아이템 높이 = 총 높이\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <UserSearch searchQuery={searchQuery} setSearchQuery={setSearchQuery} />\r\n      <GridContainer\r\n        style={{ maxHeight: `${ContainerHeight()}px`, overflow: \"hidden\" }}\r\n      >\r\n        {list.map((data, index) => (\r\n          <GridItem\r\n            key={index}\r\n            onClick={() => handleProductClick(data.userEmail)}\r\n          >\r\n            <img\r\n              alt=\"testimg\"\r\n              src={data.profileImg}\r\n              style={{ width: \"200px\", height: \"200px\" }}\r\n            />\r\n            <p>{data.userNickname}</p>\r\n          </GridItem>\r\n        ))}\r\n      </GridContainer>\r\n      <ButtonContainer>\r\n        {list.length > MAX_ITEMS * 2 && (\r\n          <Button onClick={() => setIsExpanded(!isExpanded)}>\r\n            {isExpanded ? \"숨기기\" : \"더보기\"}\r\n          </Button>\r\n        )}\r\n      </ButtonContainer>\r\n    </>\r\n  );\r\n};\r\nexport default UserList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}