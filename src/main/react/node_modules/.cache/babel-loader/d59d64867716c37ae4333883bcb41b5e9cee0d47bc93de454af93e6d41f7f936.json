{"ast":null,"code":"import{useEffect,useState}from\"react\";import{ReactComponent as Heart}from\"../images/HeartBox.svg\";import{Artist,ArtistContainer,InterBox,InterBoxText,MainHead,MainHeadBox,MainHeadText,MainProfile,MyPageContainer}from\"../style/MyPageStyle\";import MemberInfoAxiosApi from\"../axios/MemberInfoAxios\";import OtherPageComponent from\"../component/Mypage/OtherPageComponent\";import{useParams}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const OtherPage=()=>{const[userInfo,setUserInfo]=useState(null);const[userMusic,setUserMusic]=useState(null);const[userPerformance,setUserPerformance]=useState(null);const{email}=useParams();useEffect(()=>{const fetchUserInfoAndMusic=async()=>{try{const userInfoResponse=await MemberInfoAxiosApi.getUserInfo(email);setUserInfo(userInfoResponse.data);if(userInfoResponse.data){const musicResponse=await MemberInfoAxiosApi.getUserMusic(userInfoResponse.data.id);setUserMusic(musicResponse.data);}}catch(error){console.error(error);}};const fetchData=async()=>{const response=await MemberInfoAxiosApi.getUserInfoByPerformanceEmail(email);setUserPerformance(response.data);};fetchData();fetchUserInfoAndMusic();},[email]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MyPageContainer,{children:[/*#__PURE__*/_jsxs(MainHead,{children:[/*#__PURE__*/_jsx(MainProfile,{}),/*#__PURE__*/_jsxs(ArtistContainer,{children:[/*#__PURE__*/_jsxs(MainHeadBox,{children:[/*#__PURE__*/_jsxs(MainHeadText,{children:[\"\\uACF5\\uC5F0 \\uD69F\\uC218 :\",\" \",userPerformance&&userPerformance.performances.length]}),/*#__PURE__*/_jsxs(MainHeadText,{children:[\"\\uB4F1\\uB85D\\uB41C \\uC74C\\uC6D0 : \",userMusic&&userMusic.length]}),/*#__PURE__*/_jsx(InterBox,{children:/*#__PURE__*/_jsxs(InterBoxText,{children:[/*#__PURE__*/_jsx(Heart,{}),userMusic&&userMusic[0].musicDTO.heartCount]})})]}),/*#__PURE__*/_jsx(Artist,{children:\"ARTIST\"})]})]}),/*#__PURE__*/_jsx(OtherPageComponent,{userMusic:userMusic,userPerformance:userPerformance,userInfo:userInfo})]})});};export default OtherPage;","map":{"version":3,"names":["useEffect","useState","ReactComponent","Heart","Artist","ArtistContainer","InterBox","InterBoxText","MainHead","MainHeadBox","MainHeadText","MainProfile","MyPageContainer","MemberInfoAxiosApi","OtherPageComponent","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OtherPage","userInfo","setUserInfo","userMusic","setUserMusic","userPerformance","setUserPerformance","email","fetchUserInfoAndMusic","userInfoResponse","getUserInfo","data","musicResponse","getUserMusic","id","error","console","fetchData","response","getUserInfoByPerformanceEmail","children","performances","length","musicDTO","heartCount"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/pages/OtherPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { ReactComponent as Heart } from \"../images/HeartBox.svg\";\r\n\r\nimport {\r\n  Artist,\r\n  ArtistContainer,\r\n  InterBox,\r\n  InterBoxText,\r\n  MainHead,\r\n  MainHeadBox,\r\n  MainHeadText,\r\n  MainProfile,\r\n  MyPageContainer,\r\n} from \"../style/MyPageStyle\";\r\nimport MemberInfoAxiosApi from \"../axios/MemberInfoAxios\";\r\nimport OtherPageComponent from \"../component/Mypage/OtherPageComponent\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst OtherPage = () => {\r\n  const [userInfo, setUserInfo] = useState(null);\r\n  const [userMusic, setUserMusic] = useState(null);\r\n  const [userPerformance, setUserPerformance] = useState(null);\r\n  const { email } = useParams();\r\n\r\n  useEffect(() => {\r\n    const fetchUserInfoAndMusic = async () => {\r\n      try {\r\n        const userInfoResponse = await MemberInfoAxiosApi.getUserInfo(email);\r\n        setUserInfo(userInfoResponse.data);\r\n        if (userInfoResponse.data) {\r\n          const musicResponse = await MemberInfoAxiosApi.getUserMusic(\r\n            userInfoResponse.data.id\r\n          );\r\n          setUserMusic(musicResponse.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    const fetchData = async () => {\r\n      const response = await MemberInfoAxiosApi.getUserInfoByPerformanceEmail(\r\n        email\r\n      );\r\n      setUserPerformance(response.data);\r\n    };\r\n    fetchData();\r\n    fetchUserInfoAndMusic();\r\n  }, [email]);\r\n  return (\r\n    <>\r\n      <MyPageContainer>\r\n        <MainHead>\r\n          <MainProfile></MainProfile>\r\n          <ArtistContainer>\r\n            <MainHeadBox>\r\n              <MainHeadText>\r\n                공연 횟수 :{\" \"}\r\n                {userPerformance && userPerformance.performances.length}\r\n              </MainHeadText>\r\n              <MainHeadText>\r\n                등록된 음원 : {userMusic && userMusic.length}\r\n              </MainHeadText>\r\n              <InterBox>\r\n                <InterBoxText>\r\n                  <Heart />\r\n                  {userMusic && userMusic[0].musicDTO.heartCount}\r\n                </InterBoxText>\r\n              </InterBox>\r\n            </MainHeadBox>\r\n\r\n            <Artist>ARTIST</Artist>\r\n          </ArtistContainer>\r\n        </MainHead>\r\n        <OtherPageComponent\r\n          userMusic={userMusic}\r\n          userPerformance={userPerformance}\r\n          userInfo={userInfo}\r\n        />\r\n      </MyPageContainer>\r\n    </>\r\n  );\r\n};\r\nexport default OtherPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}