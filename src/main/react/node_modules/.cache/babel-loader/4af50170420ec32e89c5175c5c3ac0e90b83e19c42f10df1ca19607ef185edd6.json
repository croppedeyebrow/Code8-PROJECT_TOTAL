{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Block,ButtonFlex,ChoiceButton,HeadLine,HeadText,Heading,PostRankCategory,PostRankContent,PostRankFrame,PostRankLink,PostRankList,PostRankListItem,PostUpTime,PostUpTimeList,RoundedMd,Swiper,SwiperSlide,SwiperWrapper}from\"../../style/CommunityPostStyle\";import CommunityAxiosApi from\"../../axios/CommunityAxios\";import{useNavigate}from\"react-router-dom\";import Common from\"../../utils/Common\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CommunityRankComponent=_ref=>{let{categoryName}=_ref;const[ranking,setRanking]=useState([]);const[selectedRanking,setSelectedRanking]=useState(\"realtime\");const navigate=useNavigate();useEffect(()=>{const fetchRanking=async()=>{const response=await CommunityAxiosApi.getRanking(selectedRanking);console.log(response.data);setRanking(response.data);};fetchRanking();},[selectedRanking]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Heading,{children:/*#__PURE__*/_jsxs(HeadText,{children:[categoryName,\" \\uAC8C\\uC2DC\\uD310\"]})}),/*#__PURE__*/_jsx(HeadLine,{}),/*#__PURE__*/_jsxs(Block,{children:[/*#__PURE__*/_jsxs(ButtonFlex,{children:[/*#__PURE__*/_jsx(ChoiceButton,{selected:selectedRanking===\"realtime\",onClick:()=>setSelectedRanking(\"realtime\"),children:\"\\uC2E4\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(ChoiceButton,{selected:selectedRanking===\"weekly\",onClick:()=>setSelectedRanking(\"weekly\"),children:\"\\uC8FC\\uAC04\"}),/*#__PURE__*/_jsx(ChoiceButton,{selected:selectedRanking===\"monthly\",onClick:()=>setSelectedRanking(\"monthly\"),children:\"\\uC6D4\\uAC04\"})]}),/*#__PURE__*/_jsx(PostUpTime,{children:/*#__PURE__*/_jsx(PostUpTimeList,{children:/*#__PURE__*/_jsx(Swiper,{children:/*#__PURE__*/_jsx(SwiperWrapper,{children:ranking.map((post,index)=>/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(RoundedMd,{children:/*#__PURE__*/_jsx(PostRankList,{children:/*#__PURE__*/_jsxs(PostRankListItem,{onClick:()=>navigate(\"/community/detail/\".concat(post.communityId)),children:[/*#__PURE__*/_jsx(PostRankLink,{children:/*#__PURE__*/_jsx(PostRankFrame,{children:index+1})}),/*#__PURE__*/_jsx(PostRankCategory,{children:/*#__PURE__*/_jsxs(PostRankFrame,{children:[Common.truncateText(post.categoryName,20),\" \",\"\\uAC8C\\uC2DC\\uD310\"]})}),/*#__PURE__*/_jsx(PostRankContent,{children:/*#__PURE__*/_jsx(PostRankFrame,{width:\"\".concat(post.title.length,\"px\"),children:Common.truncateText(post.title,20)})})]})})})},index))})})})})]})]});};export default CommunityRankComponent;","map":{"version":3,"names":["useEffect","useState","Block","ButtonFlex","ChoiceButton","HeadLine","HeadText","Heading","PostRankCategory","PostRankContent","PostRankFrame","PostRankLink","PostRankList","PostRankListItem","PostUpTime","PostUpTimeList","RoundedMd","Swiper","SwiperSlide","SwiperWrapper","CommunityAxiosApi","useNavigate","Common","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","CommunityRankComponent","_ref","categoryName","ranking","setRanking","selectedRanking","setSelectedRanking","navigate","fetchRanking","response","getRanking","console","log","data","children","selected","onClick","map","post","index","concat","communityId","truncateText","width","title","length"],"sources":["C:/dev/PROJECT_TOTAL/src/main/react/src/component/community/CommunityRankComponent.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {\r\n  Block,\r\n  ButtonFlex,\r\n  ChoiceButton,\r\n  HeadLine,\r\n  HeadText,\r\n  Heading,\r\n  PostRankCategory,\r\n  PostRankContent,\r\n  PostRankFrame,\r\n  PostRankLink,\r\n  PostRankList,\r\n  PostRankListItem,\r\n  PostUpTime,\r\n  PostUpTimeList,\r\n  RoundedMd,\r\n  Swiper,\r\n  SwiperSlide,\r\n  SwiperWrapper,\r\n} from \"../../style/CommunityPostStyle\";\r\nimport CommunityAxiosApi from \"../../axios/CommunityAxios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Common from \"../../utils/Common\";\r\n\r\nconst CommunityRankComponent = ({ categoryName }) => {\r\n  const [ranking, setRanking] = useState([]);\r\n  const [selectedRanking, setSelectedRanking] = useState(\"realtime\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchRanking = async () => {\r\n      const response = await CommunityAxiosApi.getRanking(selectedRanking);\r\n      console.log(response.data);\r\n      setRanking(response.data);\r\n    };\r\n\r\n    fetchRanking();\r\n  }, [selectedRanking]);\r\n\r\n  return (\r\n    <>\r\n      <Heading>\r\n        <HeadText>{categoryName} 게시판</HeadText>\r\n      </Heading>\r\n      <HeadLine />\r\n      <Block>\r\n        <ButtonFlex>\r\n          <ChoiceButton\r\n            selected={selectedRanking === \"realtime\"}\r\n            onClick={() => setSelectedRanking(\"realtime\")}\r\n          >\r\n            실시간\r\n          </ChoiceButton>\r\n          <ChoiceButton\r\n            selected={selectedRanking === \"weekly\"}\r\n            onClick={() => setSelectedRanking(\"weekly\")}\r\n          >\r\n            주간\r\n          </ChoiceButton>\r\n          <ChoiceButton\r\n            selected={selectedRanking === \"monthly\"}\r\n            onClick={() => setSelectedRanking(\"monthly\")}\r\n          >\r\n            월간\r\n          </ChoiceButton>\r\n        </ButtonFlex>\r\n        <PostUpTime>\r\n          <PostUpTimeList>\r\n            <Swiper>\r\n              <SwiperWrapper>\r\n                {ranking.map((post, index) => (\r\n                  <SwiperSlide key={index}>\r\n                    <RoundedMd>\r\n                      <PostRankList>\r\n                        <PostRankListItem\r\n                          onClick={() =>\r\n                            navigate(`/community/detail/${post.communityId}`)\r\n                          }\r\n                        >\r\n                          <PostRankLink>\r\n                            <PostRankFrame>{index + 1}</PostRankFrame>\r\n                          </PostRankLink>\r\n                          <PostRankCategory>\r\n                            <PostRankFrame>\r\n                              {Common.truncateText(post.categoryName, 20)}{\" \"}\r\n                              게시판\r\n                            </PostRankFrame>\r\n                          </PostRankCategory>\r\n                          <PostRankContent>\r\n                            <PostRankFrame width={`${post.title.length}px`}>\r\n                              {Common.truncateText(post.title, 20)}\r\n                            </PostRankFrame>\r\n                          </PostRankContent>\r\n                        </PostRankListItem>\r\n                      </PostRankList>\r\n                    </RoundedMd>\r\n                  </SwiperSlide>\r\n                ))}\r\n              </SwiperWrapper>\r\n            </Swiper>\r\n          </PostUpTimeList>\r\n        </PostUpTime>\r\n      </Block>\r\n    </>\r\n  );\r\n};\r\nexport default CommunityRankComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}